if(CONFIG_LIBLC3PLUS)

zephyr_library_named(liblc3plus)
zephyr_library_compile_options(-O3 -std=c11 -ffast-math -Wno-array-bounds -DDISABLE_HR_MODE -DWMOPS=0 -DDONT_COUNT_MEM)

if(CONFIG_LIBLC3PLUS_FIXED)
zephyr_include_directories(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point)
zephyr_include_directories(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/basop32.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/control.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/count.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/dynmem.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/enh1632.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/enh40.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basic_op/enhUL32.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/adjust_global_gain_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/al_fec.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/apply_global_gain_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/ari_codec.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/attack_detector_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basop_mpy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/basop_util.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/constants.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/cutoff_bandwidth.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/dct2_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/dct4_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/dec_entropy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/dec_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/detect_cutoff_warped_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/enc_entropy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/enc_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/estimate_global_gain_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/fft.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/imdct_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/levinson_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/ltpf_coder_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/ltpf_decoder_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/mdct_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/mdct_shaping_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/near_nyquist_detector_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/noise_factor_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/noise_filling_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/olpa_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pc_apply_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pc_classify_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pc_main_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pc_update_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/per_band_energy_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_apply_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_classify_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_damping_scrambling_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_lpc_scaling_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_main_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_noise_substitution_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_f0_refine_first_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_fec_hq_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_lf_peak_analysis_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_peak_locator_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_setf0hz_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_phecu_tools_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_tdac_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_tdc_inverse_odft_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_tdc_lagwin_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_tdc_main_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_tdc_pre_emphasis_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_update_aft_imdct_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_update_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/plc_xcorr_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pvq_dec_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pvq_enc_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/pvq_index_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/quantize_spec_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/reorder_bitstream_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/resamp12k8_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/residual_coding_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/residual_decoding_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/rom_basop_util.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/scale_signal24_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/setup_dec_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/setup_enc_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/sns_compute_scf_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/sns_interpolate_scf_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/sns_quantize_scf_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/tns_coder_fx.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/fixed_point/tns_decoder_fx.c)
endif()

if(CONFIG_LIBLC3PLUS_FLOAT)
zephyr_include_directories(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/adjust_global_gain.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/al_fec_fl.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/apply_global_gain.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/ari_codec.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/attack_detector.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/constants.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/cutoff_bandwidth.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/dct4.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/dec_entropy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/dec_lc3_fl.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/detect_cutoff_warped.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/enc_entropy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/enc_lc3_fl.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/estimate_global_gain.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/imdct.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/lc3plus_fft.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/ltpf_coder.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/ltpf_decoder.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/mdct.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/mdct_shaping.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/near_nyquist_detector.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/noise_factor.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/noise_filling.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/olpa.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/pc_apply.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/pc_classify.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/pc_main.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/pc_update.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/per_band_energy.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_classify.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_compute_stab_fac.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_damping_scrambling.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_main.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_noise_substitution0.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_noise_substitution.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_f0_refine_first.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_fec_hq.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_hq_ecu.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_lf_peak_analysis.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_rec_frame.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_setf0hz.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_spec_ana.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_subst_spec.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_tba_per_band_gain.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_tba_spect_Xavg.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_tba_trans_dect_gains.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_phecu_trans_burst_ana_sub.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_tdc.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_tdc_tdac.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/plc_update.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/quantize_spec.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/reorder_bitstream.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/resamp12k8.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/residual_coding.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/residual_decoding.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/setup_com_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/setup_dec_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/setup_enc_lc3plus.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/sns_compute_scf.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/sns_interpolate_scf.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/sns_quantize_scf.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/tns_coder.c)
zephyr_library_sources(${ZEPHYR_LIBLC3PLUS_MODULE_DIR}/src/floating_point/tns_decoder.c)
endif()

endif()
